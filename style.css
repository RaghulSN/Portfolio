// SPA navigation
const navBtns = document.querySelectorAll(".nav-btn");
const sections = document.querySelectorAll(".page-section");
navBtns.forEach(btn => {
  btn.addEventListener("click", () => {
    navBtns.forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    sections.forEach(sec => sec.classList.remove("active"));
    document.getElementById(btn.dataset.section).classList.add("active");
  });
});

// Fullscreen
const fsBtn = document.getElementById("fullscreen-btn");
fsBtn.addEventListener("click", () => {
  if (!document.fullscreenElement) document.documentElement.requestFullscreen();
  else document.exitFullscreen();
});

// Theme toggle
const themeBtn = document.getElementById("theme-btn");
themeBtn.addEventListener("click", () => document.body.classList.toggle("light"));

// Drawer (Portfolio)
const drawerToggle = document.getElementById("drawer-toggle");
const drawer = document.getElementById("drawer");
const drawerClose = document.getElementById("drawer-close");
drawerToggle.addEventListener("click", () => drawer.classList.add("open"));
drawerClose.addEventListener("click", () => drawer.classList.remove("open"));

// Portfolio scroll
const portfolio = document.getElementById("portfolio");
const progressBar = document.getElementById("progress-bar");
const backToTop = document.getElementById("back-to-top");
portfolio.addEventListener("scroll", () => {
  const scrollTop = portfolio.scrollTop;
  const scrollHeight = portfolio.scrollHeight - portfolio.clientHeight;
  progressBar.style.width = (scrollTop/scrollHeight)*100 + "%";
  backToTop.style.display = scrollTop > 200 ? "block" : "none";
});
backToTop.addEventListener("click", () => portfolio.scrollTo({ top:0, behavior:"smooth" }));
